{% extends 'index.html' %}
{% block content %}
<main class="settingsPage profile my-md">
      <div class="container">
            <div class="layout">
                  <div class="column column--1of3">
                        <div class="card text-center">
                              <div class="card__body dev">
                                    <a class="tag tag--pill tag--main settings__btn" href="{% url 'edit-profile' %}">
                                          Edit <i class="fa-solid fa-pen"></i></a>
                                    <img class="avatar avatar--xl dev__avatar" src="{{profile.ImageURL}}" />
                                    <h2 class="dev__name">{{profile.username}}</h2>
                                    <p class="dev__title">{{profile.job_role}}</p>
                                    <p class="dev__location">Based in {{profile.location}}</p>
                                    <ul class="dev__social">
                                          {% if profile.github %}
                                          <li>
                                                <a title="Github" href="{{profile.github}}" target="_blank"><i
                                                            class="fa-brands fa-github"></i></a>
                                          </li>
                                          {% endif %}
                                          {% if profile.stackoverflow %}
                                          <li>
                                                <a title="Stackoverflow" href="{{profile.stackoverflow}}"
                                                      target="_blank"><i class="fa-brands fa-stack-overflow"></i></a>
                                          </li>
                                          {% endif %}

                                          {% if profile.linkedin %}
                                          <li>
                                                <a title="Linkedin" href="{{profile.linkedin}}" target="_blank"><i
                                                            class="fa-brands fa-linkedin"></i></a>
                                          </li>
                                          {% endif %}

                                          {% if profile.twitter %}
                                          <li>
                                                <a title="Twitter" href="{{profile.twitter}}" target="_blank"><i
                                                            class="fa-brands fa-twitter"></i></a>
                                          </li>
                                          {% endif %}

                                          {% if profile.website %}
                                          <li>
                                                <a title="Personal Website" href="{{profile.website}}"
                                                      target="_blank"><i class="fa-solid fa-globe"></i></a>
                                          </li>
                                          {% endif %}
                                    </ul>
                                    <div class="buttonz">
                                          <a id="first" href="{% url 'favorite-list' %}"
                                                class="btn btn--sm">Favorites</a>
                                          <a href="{% url 'inbox' %}" class="btn btn--sm">Messages</a>
                                    </div>
                              </div>
                        </div>
                  </div>
                  <div class="column column--2of3">
                        <div class="devInfo">
                              <h3 class="devInfo__title">About Me</h3>
                              <p class="devInfo__about">
                                    <i class="fa-solid fa-hashtag"></i> {{profile.short_intro}}
                                    <br />
                                    <br />
                                    {{profile.bio|linebreaksbr}}
                              </p>
                        </div>
                        <div class="settings">
                              <h3 class="settings__title">Skills</h3>
                              <a class="tag tag--pill tag--sub settings__btn tag--lg" href="{% url 'add-skill' %}"> <i
                                          class="fa-solid fa-plus"></i> Add Skill</a>
                        </div>
                        <!-- SKILL-SET TABLE -->
                        <table class="settings__table">
                              {% for skill in profile.skill_set.all %}
                              <tr>
                                    <td class="settings__tableInfo">
                                          <h4>{{skill}}</h4>
                                          <p>
                                                {{skill.description}}
                                          </p>
                                    </td>
                                    <td class="settings__tableActions">
                                          <a class="tag tag--pill tag--main settings__btn"
                                                href="{% url 'edit-skill' skill.id %}"> Edit</a>
                                          <a class="tag tag--pill tag--main settings__btn"
                                                href="{% url 'delete-skill' skill.id %}?next=/user-profile">Delete</a>
                                    </td>
                              </tr>
                              {% endfor %}
                        </table>
                        <div class="settings">
                              <h3 class="settings__title">Projects</h3>
                              <a class="tag tag--pill tag--sub settings__btn tag--lg"
                                    href="{% url 'create-project' %}"><i class="fa-solid fa-plus"></i> Add Project</a>
                        </div>
                        <!-- PROJECT-SET TABLE -->
                        <table class="settings__table">
                              {% for project in profile.project_set.all %}
                              <tr>
                                    <td class="settings__thumbnail">
                                          <a href="{% url 'single-project' project.id %}"><img
                                                      src="{{project.ImageURL}}" /></a>
                                    </td>
                                    <td class="settings__tableInfo">
                                          <a href="{% url 'single-project' project.id %}">{{project.title}}</a>
                                          <p>
                                                {{project.description | slice:"110"}} . . .
                                          </p>
                                    </td>
                                    <td class="settings__tableActions">
                                          <a class="tag tag--pill tag--main settings__btn"
                                                href="{% url 'update-project' project.id %}">Edit</a>
                                          <a class="tag tag--pill tag--main settings__btn"
                                                href="{% url 'delete-project' project.id %}?next=/user-profile">Delete</a>
                                    </td>
                              </tr>
                              {% endfor %}
                        </table>
                        <!-- BLOG_POST-SET TABLE -->
                        <div class="settings">
                              <h3 class="settings__title">Blog Posts</h3>
                              <a class="tag tag--pill tag--sub settings__btn tag--lg" href="{% url 'create-blog' %}"><i
                                          class="fa-solid fa-plus"></i> Add
                                    Blog</a>
                        </div>
                        <br />
                        <div class="devInfo">
                              <div class="grid grid--two">
                                    <!-- ======== PROJECTS-SECTION ======= -->
                                    {% for blog in profile.blog_set.all %}
                                    <div class="column">
                                          <div class="card project">
                                                <a href="{% url 'single-blog' blog.id %}" class="blog">
                                                      <img class="blog__thumbnail" src="{{ blog.featured_image.url }}"
                                                            alt="blog thumbnail" />
                                                      <div class="card__body">
                                                            <p class="blog__title">{{blog.description | slice:"110"}} .
                                                                  . .
                                                            </p>
                                                            <div class="blog--editables">
                                                                  <a class="tag tag--pill tag--main settings__btn"
                                                                        href="{% url 'edit-blog' blog.id %}">Edit</a>
                                                                  <a style=" position:relative; left: 210px;"
                                                                        class="tag tag--pill tag--main settings__btn"
                                                                        href="{% url 'delete-blog' blog.id %}?next=/user-profile">Delete</a>
                                                            </div>
                                                      </div>
                                                </a>
                                          </div>
                                    </div>
                                    {% endfor %}
                              </div>
                        </div>
                  </div>
            </div>
      </div>
</main>
{% endblock content %}